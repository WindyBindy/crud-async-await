let e=async()=>{let e=await fetch("http://localhost:3000/students");if(!e.ok)throw Error("Failed!");return e.json()},t=async e=>{let t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},l=await fetch("http://localhost:3000/students",t);if(!l.ok)throw Error("Failed!");return l.json()},l=async e=>{let t=await fetch(`http://localhost:3000/students/${e}`,{method:"DELETE"});if(!t.ok)throw Error("Failed!");return t.json()},n=async(e,t)=>{let l={method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}},n=await fetch(`http://localhost:3000/students/${e}`,l);if(!n.ok)throw Error("Failed!");return n.json()},s=document.querySelector(".list-of-students"),o=document.querySelector("#get-students-btn"),a=document.querySelector("#add-student-form"),r=document.querySelector(".backdrop"),i=document.querySelector(".modal-form"),c=null;function u(e){s.innerHTML=e.map(({id:e,name:t,age:l,course:n,skills:s,email:o,isEnrolled:a})=>`<tr>
        <th name="id" class="id">${e}</th>
        <th name="name" class="name">${t}</th>
        <th name="age" class="age">${l}</th>
        <th name="course" class="course">${n}</th>
        <th name="skills" class="skills">${s}</th>
        <th name="email" class="email">${o}</th>
        <th name="isEnrolled" class="isEnrolled">${a}</th>
        <th name="btns"><button type="button" class="delete" id="${e}">delet</button>
<button type="button" class="edit">edit</button></th>
        </tr>`).join("")}o.addEventListener("click",()=>{e().then(e=>u(e))}),a.addEventListener("submit",e=>{var l;let n;(l=e).preventDefault(),t({name:(n=l.currentTarget.elements).name.value.trim(),age:Number(n.age.value.trim()),course:n.course.value.trim(),skills:n.skills.value.trim(),email:n.email.value.trim(),isEnrolled:n.isEnrolled.checked}).then(()=>{a.reset()})}),i.addEventListener("submit",t=>{if(t.preventDefault(),c){console.log(c);let l=t.currentTarget.elements,s={name:l.name.value.trim(),age:Number(l.age.value.trim()),course:l.course.value.trim(),skills:l.skills.value.trim(),email:l.email.value.trim(),isEnrolled:l.isEnrolled.checked};n(c,s).then(t=>{i.reset(),r.style.display="none",e().then(e=>u(e))})}}),s.addEventListener("click",async()=>{let t=event.target.className;console.log(t);let n=event.target.closest("tr");console.log(n);let s=event.target.id;"delete"===t&&(await void l(Number(s)).then(t=>e(t)).then(e=>u(e)),console.log(s),console.log("deleted")),"edit"===t&&(console.log("done"),c=n.querySelector(".id").textContent,i.elements.name.value=n.querySelector(".name").textContent,i.elements.age.value=n.querySelector(".age").textContent,i.elements.course.value=n.querySelector(".course").textContent,i.elements.skills.value=n.querySelector(".skills").textContent,i.elements.email.value=n.querySelector(".email").textContent,i.elements.isEnrolled.value=n.querySelector(".isEnrolled").textContent,r.style.display="flex")});
//# sourceMappingURL=crud-async-await.50db917c.js.map
