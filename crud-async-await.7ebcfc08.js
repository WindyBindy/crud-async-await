let e=async()=>{let e=await fetch("http://localhost:3000/students");if(!e.ok)throw Error("Failed!");return e.json()},t=async e=>{let t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},l=await fetch("http://localhost:3000/students",t);if(!l.ok)throw Error("Failed!");return l.json()},l=async e=>{let t=await fetch(`http://localhost:3000/students/${e}`,{method:"DELETE"});if(!t.ok)throw Error("Failed!");return t.json()},n=async(e,t)=>{let l={method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}},n=await fetch(`http://localhost:3000/students/${e}`,l);if(!n.ok)throw Error("Failed!");return n.json()},s=document.querySelector(".list-of-students"),a=document.querySelector("#get-students-btn"),o=document.querySelector("#add-student-form"),r=document.querySelector(".backdrop"),i=document.querySelector(".modal-form"),c=null,u=async()=>{d(await e())};function d(e){s.innerHTML=e.map(({id:e,name:t,age:l,course:n,skills:s,email:a,isEnrolled:o})=>`<tr>
        <th name="id" class="id">${e}</th>
        <th name="name" class="name">${t}</th>
        <th name="age" class="age">${l}</th>
        <th name="course" class="course">${n}</th>
        <th name="skills" class="skills">${s}</th>
        <th name="email" class="email">${a}</th>
        <th name="isEnrolled" class="isEnrolled">${o}</th>
        <th name="btns"><button type="button" class="delete" id="${e}">delet</button>
<button type="button" class="edit">edit</button></th>
        </tr>`).join("")}async function m(e){e.preventDefault();let l=e.currentTarget.elements,n={name:l.name.value.trim(),age:Number(l.age.value.trim()),course:l.course.value.trim(),skills:l.skills.value.trim(),email:l.email.value.trim(),isEnrolled:l.isEnrolled.checked};await t(n),o.reset(),u()}a.addEventListener("click",()=>{u()}),o.addEventListener("submit",e=>{m(e)}),i.addEventListener("submit",async e=>{if(e.preventDefault(),c){console.log(c);let t=e.currentTarget.elements,l={name:t.name.value.trim(),age:Number(t.age.value.trim()),course:t.course.value.trim(),skills:t.skills.value.trim(),email:t.email.value.trim(),isEnrolled:t.isEnrolled.checked};await n(c,l),i.reset(),r.style.display="none",u()}}),s.addEventListener("click",async()=>{let t=event.target.className;console.log(t);let n=event.target.closest("tr");console.log(n);let s=event.target.id;"delete"===t&&(await void l(Number(s)).then(t=>e(t)).then(e=>d(e)),console.log(s),console.log("deleted")),"edit"===t&&(console.log("done"),c=n.querySelector(".id").textContent,i.elements.name.value=n.querySelector(".name").textContent,i.elements.age.value=n.querySelector(".age").textContent,i.elements.course.value=n.querySelector(".course").textContent,i.elements.skills.value=n.querySelector(".skills").textContent,i.elements.email.value=n.querySelector(".email").textContent,i.elements.isEnrolled.value=n.querySelector(".isEnrolled").textContent,r.style.display="flex")});
//# sourceMappingURL=crud-async-await.7ebcfc08.js.map
